{"dataflow":{"dfKey":"7206fb0c-23c6-4fa8-a233-5b6422a81e4c","name":"Dataflow_s3_2822","tags":null,"description":"","definition":"{\"name\":\"Dataflow_s3_2822\",\"description\":\"\",\"version\":0,\"livyServerId\":0,\"engineVariableName\":\"\",\"components\":[{\"udfNames\":[],\"componentId\":0,\"componentName\":\"startComponent\",\"tableName\":\"\",\"category\":\"Start\",\"componentType\":\"UDF\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":0,\"dependencies\":[],\"className\":\"com.datagaps.dataflow.models.UDFComponent\",\"excludeNotification\":\"N\"},{\"code\":\"//adding required imports\\r\\nimport org.apache.hadoop.fs._\\r\\nimport com.datagaps.core.engine.security.DecryptUtils\\r\\n\\r\\n//configuring s3 to session\\r\\nval sc \\u003d spark.sparkContext\\r\\nvar accessKey \\u003d \\\"AKIAV5DLRL436OMGINFZ\\\"\\r\\nvar secretKey \\u003d \\r\\n\\\"U2FsdGVkX1/eDF6QaX3Z+I4Hp+4y+NyEByymjdUzdowFN36im57r8rGfo4RsmhzKbtfu1LRnPF/cn7bC2Sz85A\\u003d\\u003d\\\"\\r\\nsecretKey \\u003d DecryptUtils.pwdDecrypt(com.datagaps.core.engine.service.DataNerveUtils.SECRET_KEY, secretKey)\\r\\nprintln(\\\"secretKey decrypted sucessfully ...\\\")\\r\\ntry{\\r\\n     accessKey \\u003d DecryptUtils.pwdDecrypt(com.datagaps.core.engine.service.DataNerveUtils.SECRET_KEY,accessKey);\\r\\n   }catch{\\r\\n     case ex : Exception \\u003d\\u003e{\\r\\n        println(\\\"accessKey decryption failed\\\");\\r\\n      }\\r\\n    }\\r\\n println(\\\"accessKey used :\\\" + accessKey)   \\r\\nsc.hadoopConfiguration.set(\\\"fs.s3a.access.key\\\", accessKey)\\r\\nsc.hadoopConfiguration.set(\\\"fs.s3a.secret.key\\\", secretKey)\\r\\nval conf \\u003d sc.hadoopConfiguration\\r\\n\\r\\n//preparing final path \\r\\nval path \\u003d s\\\"s3a://\\\" + \\\"datagapsqa\\\" + \\\"/\\\" \\r\\n\\r\\nval src \\u003d new Path(path)\\r\\nval fs \\u003d src.getFileSystem(conf)\\r\\nval file \\u003d fs.listStatus(new Path(path))\\r\\nval listFiles \\u003d file.toList\\r\\nprintln(listFiles)\",\"kind\":\"spark\",\"dataSourceId\":0,\"componentId\":1,\"componentName\":\"Code 1\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"excludeNotification\":\"N\"}],\"isDeleteWorkSchemaTable\":\"N\"}","parameters":"[{\"name\":\"limit_rows\",\"defValueInInteractiveMode\":\"limit 10\",\"defValueInBatchMode\":\"limit 1000\"}]","version":3,"maxComponentId":1,"livyOptions":"{\"kind\":\"spark\",\"proxyUser\":\"\",\"jars\":[],\"pyFiles\":[],\"files\":[],\"driverMemory\":\"\",\"driverCores\":0,\"executorMemory\":\"\",\"executorCores\":0,\"numExecutors\":0,\"archives\":[],\"queue\":\"\",\"name\":\"\",\"conf\":{},\"heartbeatTimeoutInSecond\":0}","isDeleted":"N","userName":null,"type":"dataflow","environmentName":"","folderPath":"Dataflow/siva","workSchemaName":null},"analysis":[],"datamodels":[],"tagDetails":[],"dataCompares":[]}